# This is the Nginx server configuration for our React application.

server {
  # Listen on the default HTTP port 80.
  listen 80;

  # Define the root directory where our static files live.
  # This path matches where we copied our files in the Dockerfile.
  root /usr/share/nginx/html;

  # The default file to serve.
  index index.html;

  # This is the most important part for a Single Page Application.
  # It tells Nginx:
  # 1. Try to find the file the user requested ($uri).
  # 2. If it's a directory, try to find an index file inside it ($uri/).
  # 3. If neither of those work (e.g., the user is at /dashboard),
  #    then just serve the main /index.html file and let React's
  #    internal router handle the rest.
  location / {
    try_files $uri $uri/ /index.html;
  }
}